<!DOCTYPE html>
{% load static %}
<html>

    <head>
        <title>Discover Page</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

        <link rel="stylesheet" href="{% static 'application/profile_edit/jquery-ui-1.13.2.custom/jquery-ui.css' %}">
        <script src="{% static 'application/profile_edit/jquery-ui-1.13.2.custom/jquery-ui.min.js' %}"></script>
        <link rel="stylesheet" type="text/css" href="{% static 'application/css/profiles.css' %}" />

        <script>
          $( function() {
            var raw_matches = [
            {% for match in matches_data %}
                "{{match.first_name}} {{match.last_name}}{{match.pk}}",
            {% endfor %}
            ];

            var matches = [];
            for (match in raw_matches) {
                matches.push({label:raw_matches[match].slice(0,-1), value: raw_matches[match].slice(-1)});
            };
            $( "#matchsearch" ).autocomplete({
                source: matches,
                select: function(event, ui) {
                    event.preventDefault()
                    $("#matchsearch").val(ui.item.label);
                    var pk = ui.item.value;
                    var url_mask = "{% url 'application:match_profile' 99 %}".replace(/99/, pk.toString())
                    location.href = url_mask
                }
            });
          });
        </script>
    </head>

    <body>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous">
            </script>
        <div class="container">
            <div class="left">
                <div class="sidebar-profile">
                    <div class="profile-picture">
                        <a href="{% url 'application:profile' %}">
                            <img src="{{ profile_picture.url }}" alt="Image" draggable="false" />
                        </a>
                    </div>
                    <div class="profile">
                        <span class="profile-name">{{user.first_name}}</span>
                        <span class="profile-name">{{user.last_name}},</span>
                        <span class="profile-name">{{user.age}}</span>
                        <p class="location">{{user.location}}</p>
                    </div>
                </div>
                <h2>Matches</h2>
                <div class="matches" id="matches">
                    {% for match in matches_data %}
                    <div class="match">
                        <a href="{% url 'application:match_profile' match_pk=match.pk %}">
                            <img src={{match.profile_picture}} alt="Match 1">
                        </a>
                        <p>{{match.first_name}}</p>
                    </div>
                    {% endfor %}
                </div>
                <h3>Search Matches</h3>
                <div class="search-container">
                    <input type="text" placeholder="Search for matches..." id = "matchsearch">
                </div>
                <h3>Messages</h3>
                <div class="messages-section">
                    <div class="message-card">
                        <img src="https://via.placeholder.com/70x70" alt="Profile Picture" class="message-picture">
                        <div class="message-details">
                            <h3 class="message-sender">Jane Doe</h3>
                            <p class="message-preview">Hey there! How's it going?</p>
                        </div>
                        <div class="message-time">
                            <p>3 mins</p>
                            <div class="message-count">1</div>
                        </div>
                    </div>
                    <div class="message-card">
                        <img src="https://via.placeholder.com/70x70" alt="Profile Picture" class="message-picture">
                        <div class="message-details">
                            <h3 class="message-sender">Bob Smith</h3>
                            <p class="message-preview">What are you up to this weekend?</p>
                        </div>
                        <div class="message-time">
                            <p>10 mins</p>
                            <div class="message-count">3</div>
                        </div>
                    </div>
                    <div class="message-card">
                        <img src="https://via.placeholder.com/70x70" alt="Profile Picture" class="message-picture">
                        <div class="message-details">
                            <h3 class="message-sender">Bob Smith</h3>
                            <p class="message-preview">What are you up to this weekend?</p>
                        </div>
                        <div class="message-time">
                            <p>10 mins</p>
                            <div class="message-count">3</div>
                        </div>
                    </div>
                    <div class="message-card">
                        <img src="https://via.placeholder.com/70x70" alt="Profile Picture" class="message-picture">
                        <div class="message-details">
                            <h3 class="message-sender">Bob Smith</h3>
                            <p class="message-preview">What are you up to this weekend?</p>
                        </div>
                        <div class="message-time">
                            <p>10 mins</p>
                            <div class="message-count">3</div>
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <div class="discover-events-wrapper">
                        <a href="{% url 'application:events' %}">
                        <button class="discover-events-button">Discover Events</button>
                        </a>
                    </div>
                </div>
            </div>
            <div class="right-section">
                <div class="right-header">
                    <div class="logo">
                        <h3>NYUBeatBuddies</h3>
                    </div>
                    <div class="edit-profile">
                        <a href="{% url 'application:remove_match' match_pk=matched_user.user_id %}">Remove Match</a>
                    </div>
                </div>
                <div class="right-section-content">
                    <div class="right-section-top">
                        <div class="left-column">
                            <div class="account-details">
                                <div class="profile-picture">
                                    <img src="{{ matched_profile_picture.url }}" alt="Image" draggable="false"
                                        id="discover_profile_picture">
                                </div>
                                <div class="profile">
                                    <span class="profile-name"
                                        id="discover_first_name">{{matched_user.first_name}}</span>
                                    <span class="profile-name"
                                        id="discover_last_name">{{matched_user.last_name}},</span>
                                    <span class="profile-name" id="discover_age">{{matched_user.age}}</span>
                                    <p class="location" id="discover_location">{{matched_user.location}}</p>
                                </div>
                            </div>
                            <div class="songs-column">
                                <h3>Top Songs</h3>
                                <ul>
                                    <li id="discover_song1" style="background-color:#cdb4db;">{{song1_name_artist}}</li>
                                    <li id="discover_song2" style="background-color:#ffc8dd;">{{song2_name_artist}}</li>
                                    <li id="discover_song3" style="background-color:#ffafcc;">{{song3_name_artist}}</li>
                                    <li id="discover_song4" style="background-color:#bde0fe;">{{song4_name_artist}}</li>
                                    <li id="discover_song5" style="background-color:#a2d2ff;">{{song5_name_artist}}</li>
                                </ul>
                            </div>
                            <ul>
                                <div>
                                    <h3>About me</h3>
                                </div>
                                <li>
                                    <div>
                                        <h4 id="discover_prompt1">{{prompt1}}</h4>
                                        <div class="answer">
                                            <div id="discover_response1" class="box">{{response1}}</div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <h4 id="discover_prompt2">{{prompt2}}</h4>
                                        <div class="answer">
                                            <div id="discover_response2" class="box">{{response2}}</div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <h4 id="discover_prompt3">{{prompt3}}</h4>
                                        <div class="answer">
                                            <div id="discover_response3" class="box">{{response3}}</div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <h4 id="discover_prompt4">{{prompt4}}</h4>
                                        <div class="answer">
                                            <div id="discover_response4" class="box">{{response4}}</div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <h4 id="discover_prompt5">{{prompt5}}</h4>
                                        <div class="answer">
                                            <div id="discover_response5" class="box">{{response5}}</div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <ul>
                                <div id="favorite-genres">
                                    <h3>Favorite Genres</h3>
                                    <div class="genre-buttons">
                                        <button id="discover_genre1" class="genre1">{{genre1}}</button>
                                        <button id="discover_genre2" class="genre2">{{genre2}}</button>
                                    </div>
                                    <div class="genre-buttons">
                                        <button id="discover_genre3" class="genre3">{{genre3}}</button>
                                        <button id="discover_genre4" class="genre4">{{genre4}}</button>
                                        <button id="discover_genre5" class="genre5">{{genre5}}</button>
                                    </div>
                                </div>
                            </ul>
                        </div>
                        <div class="right-column">
                            <div class="image-frame">
                                <div>
                                    <h1>Top Artists</h1>
                                </div>
                                <div class="artist-frame1">
                                    <div class="img1">
                                        <img id="discover_artist_image_url1" src={{artist1_image_url}}
                                            style="width:250px;height:250px;">
                                    </div>
                                </div>
                                <div class="artist-frame2">
                                    <div class="img2">
                                        <img id="discover_artist_image_url2" src={{artist2_image_url}}
                                            style="width:190px;height:190px;">
                                    </div>
                                </div>
                                <ol class="list-group list-group-numbered">
                                    <li id="discover_artist1" style="background-color:#cdb4db" class="list-group-item">
                                        {{artist1_name}}</li>
                                    <li id="discover_artist2" style="background-color:#ffc8dd;" class="list-group-item">
                                        {{artist2_name}}</li>
                                    <li id="discover_artist3" style="background-color:#ffafcc;" class="list-group-item">
                                        {{artist3_name}}</li>
                                    <li id="discover_artist4" style="background-color:#bde0fe;" class="list-group-item">
                                        {{artist4_name}}</li>
                                    <li id="discover_artist5" style="background-color:#a2d2ff;" class="list-group-item">
                                        {{artist5_name}}</li>
                                </ol>
                                <div class="img3">
                                    <img id="discover_artist_image_url3" src={{artist3_image_url}}
                                        style="width:150px;height:150px;">
                                </div>
                                <div class="img4">
                                    <img id="discover_artist_image_url4" src={{artist4_image_url}}
                                        style="width:150px;height:150px;">
                                </div>
                                <div class="img5">
                                    <img id="discover_artist_image_url5" src={{artist5_image_url}}
                                        style="width:150px;height:150px;">
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="album-section">
                        <div class="album-image">
                            <div>
                                <img id="discover_album_img1" src={{album1_image_url}}
                                    style="width:150px;height:150px;">
                            </div>
                            <div>
                                <img id="discover_album_img2" src={{album2_image_url}}
                                    style="width:150px;height:150px;">
                            </div>
                        </div>
                        <div class="album-list album-list-numbered">
                            <h2>Top Albums</h2>
                            <ol>
                                <li id="discover_album1" style="background-color:#cdb4db;" class="album-list-item">
                                    {{album1_name_artist}}
                                </li>
                                <li id="discover_album2" style="background-color:#ffc8dd;" class="lalbum-list-item">
                                    {{album2_name_artist}}
                                </li>
                                <li id="discover_album3" style="background-color:#ffafcc;" class="album-list-item">
                                    {{album3_name_artist}}
                                </li>
                                <li id="discover_album4" style="background-color:#bde0fe;" class="album-list-item">
                                    {{album4_name_artist}}
                                </li>
                                <li id="discover_album5" style="background-color:#a2d2ff;" class="album-list-item">
                                    {{album5_name_artist}}
                                </li>
                            </ol>
                        </div>
                        <div class="album-image">
                            <div class="img3">
                                <img id="discover_album_img3" src={{album3_image_url}}
                                    style="width:150px;height:150px;">
                            </div>
                            <div class="img4">
                                <img id="discover_album_img4" src={{album4_image_url}}
                                    style="width:150px;height:150px;">
                            </div>
                            <div class="img5">
                                <img id="discover_album_img5" src={{album5_image_url}}
                                    style="width:150px;height:150px;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </body>
</html>